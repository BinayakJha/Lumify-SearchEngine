{"ast":null,"code":"import _regeneratorRuntime from\"/Users/binayakjha/Desktop/lumify_backend/lumify/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/binayakjha/Desktop/lumify_backend/lumify/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/binayakjha/Desktop/lumify_backend/lumify/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import'./Search.css';import{NavLink,useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function SearchBarBox(){var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),query=_React$useState2[0],setQuery=_React$useState2[1];var _React$useState3=React.useState([]),_React$useState4=_slicedToArray(_React$useState3,2),suggestions=_React$useState4[0],setSuggestions=_React$useState4[1];var navigate=useNavigate();var handleInputChange=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var inputValue,response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:inputValue=e.target.value;setQuery(inputValue);if(!inputValue.trim()){_context.next=20;break;}_context.prev=3;_context.next=6;return fetch(\"https://cors-anywhere.binayak123.repl.co/search.brave.com/api/suggest?q=\".concat(inputValue));case 6:response=_context.sent;_context.next=9;return response.json();case 9:data=_context.sent;console.log(data);// the data is in this form : (2) [inputValue, Array(8)] \n// so we need to extract the array from the data\ndata=data[1];setSuggestions(data);_context.next=18;break;case 15:_context.prev=15;_context.t0=_context[\"catch\"](3);console.error(_context.t0);case 18:_context.next=21;break;case 20:setSuggestions([]);case 21:case\"end\":return _context.stop();}},_callee,null,[[3,15]]);}));return function handleInputChange(_x){return _ref.apply(this,arguments);};}();var handleSubmit=function handleSubmit(e){e.preventDefault();navigate(\"/search?query=\".concat(query));};var handleSuggestionClick=function handleSuggestionClick(suggestion){navigate(\"/search?query=\".concat(suggestion));};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{className:\"form\",method:\"GET\",id:\"searchform\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"span\",{id:\"search-icon\",className:\"no-display\",children:/*#__PURE__*/_jsxs(\"svg\",{width:\"17\",height:\"17\",viewBox:\"0 0 17 17\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:[/*#__PURE__*/_jsx(\"path\",{\"fill-rule\":\"evenodd\",\"clip-rule\":\"evenodd\",d:\"M6.57212 13.1442C2.94254 13.1442 0 10.2016 0 6.57173C0 2.94248 2.94268 0 6.57212 0C10.2016 0 13.1442 2.94248 13.1442 6.57173C13.1442 8.05658 12.6519 9.42642 11.8215 10.5269L16.3528 15.0581C16.7103 15.4156 16.7103 15.9952 16.3528 16.3527C15.9953 16.7102 15.4157 16.7102 15.0582 16.3527L10.527 11.8215C9.42657 12.6519 8.05682 13.1442 6.57212 13.1442ZM6.57212 11.2665C3.97956 11.2665 1.87775 9.16463 1.87775 6.57184C1.87775 3.97952 3.97966 1.87775 6.57212 1.87775C9.16458 1.87775 11.2665 3.97952 11.2665 6.57184C11.2665 9.16463 9.16468 11.2665 6.57212 11.2665Z\",fill:\"url(#paint0_linear)\"}),/*#__PURE__*/_jsx(\"defs\",{children:/*#__PURE__*/_jsxs(\"linearGradient\",{id:\"paint0_linear\",x1:\"16.6209\",y1:\"16.6208\",x2:\"-1.90605\",y2:\"3.18655\",gradientUnits:\"userSpaceOnUse\",children:[/*#__PURE__*/_jsx(\"stop\",{\"stop-color\":\"#BF14A2\"}),/*#__PURE__*/_jsx(\"stop\",{offset:\"1\",\"stop-color\":\"#F73A1C\"})]})})]})}),/*#__PURE__*/_jsx(\"input\",{name:\"query\",id:\"query\",type:\"text\",className:\"form-input search__bar__input\",placeholder:\"Illuminating Your Digital Search Experience..\",value:query,onChange:function onChange(e){return setQuery(e.target.value);},autocapitalize:\"off\",autocomplete:\"off\",autocorrect:\"off\",spellcheck:\"false\",\"aria-label\":\"Search\",title:\"Search\",\"aria-autocomplete\":\"both\",\"aria-haspopup\":\"false\",maxlength:\"2048\",autofocus:\"\",onInput:handleInputChange}),/*#__PURE__*/_jsx(\"input\",{name:\"source\",value:\"web\",type:\"hidden\"}),/*#__PURE__*/_jsx(\"div\",{id:\"autocomplete\",className:\"svelte-ir7f0d\"}),/*#__PURE__*/_jsx(\"div\",{className:\"search__suggestions autocomplete-items\",id:\"auto1\",children:/*#__PURE__*/_jsx(\"ul\",{className:\"search__suggestions__list\",id:\"suggestionList\",children:suggestions.map(function(currElem,index){return/*#__PURE__*/_jsx(\"li\",{className:\"search__suggestions__list__result\",onClick:function onClick(){return handleSuggestionClick(currElem);},children:currElem},index);})})})]})});}export default SearchBarBox;","map":{"version":3,"names":["React","NavLink","useNavigate","jsx","_jsx","jsxs","_jsxs","SearchBarBox","_React$useState","useState","_React$useState2","_slicedToArray","query","setQuery","_React$useState3","_React$useState4","suggestions","setSuggestions","navigate","handleInputChange","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","inputValue","response","data","wrap","_callee$","_context","prev","next","target","value","trim","fetch","concat","sent","json","console","log","t0","error","stop","_x","apply","arguments","handleSubmit","preventDefault","handleSuggestionClick","suggestion","children","className","method","id","onSubmit","width","height","viewBox","fill","xmlns","d","x1","y1","x2","y2","gradientUnits","offset","name","type","placeholder","onChange","autocapitalize","autocomplete","autocorrect","spellcheck","title","maxlength","autofocus","onInput","map","currElem","index","onClick"],"sources":["/Users/binayakjha/Desktop/lumify_backend/lumify/src/SearchBarBox.js"],"sourcesContent":["import React from 'react'\nimport './Search.css'\nimport {NavLink, useNavigate} from 'react-router-dom';\n\n\nfunction SearchBarBox() {\n    const [query, setQuery] = React.useState('')\n    const [suggestions, setSuggestions] = React.useState([])\n    const navigate = useNavigate()\n\n    const handleInputChange = async (e) => {\n        const inputValue = e.target.value\n        setQuery(inputValue)\n        if (inputValue.trim()) {\n        try {\n            const response = await fetch(`https://cors-anywhere.binayak123.repl.co/search.brave.com/api/suggest?q=${inputValue}`)\n            let data = await response.json()\n            console.log(data)\n            // the data is in this form : (2) [inputValue, Array(8)] \n            // so we need to extract the array from the data\n            data = data[1]\n\n            setSuggestions(data)\n        } catch (error) {\n            console.error(error)\n        }\n        } else {\n        setSuggestions([])\n        }\n    }\n\n    const handleSubmit = (e) => {\n        e.preventDefault()\n        navigate(`/search?query=${query}`)\n    }\n\n    const handleSuggestionClick = (suggestion) => {\n        navigate(`/search?query=${suggestion}`)\n    }\n\n    \n  return (\n    <div>\n       <form className=\"form\" method=\"GET\" id=\"searchform\" onSubmit={handleSubmit}>\n        \n            <span id=\"search-icon\" className=\"no-display\">\n                <svg width=\"17\" height=\"17\" viewBox=\"0 0 17 17\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path fill-rule=\"evenodd\" clip-rule=\"evenodd\"\n                        d=\"M6.57212 13.1442C2.94254 13.1442 0 10.2016 0 6.57173C0 2.94248 2.94268 0 6.57212 0C10.2016 0 13.1442 2.94248 13.1442 6.57173C13.1442 8.05658 12.6519 9.42642 11.8215 10.5269L16.3528 15.0581C16.7103 15.4156 16.7103 15.9952 16.3528 16.3527C15.9953 16.7102 15.4157 16.7102 15.0582 16.3527L10.527 11.8215C9.42657 12.6519 8.05682 13.1442 6.57212 13.1442ZM6.57212 11.2665C3.97956 11.2665 1.87775 9.16463 1.87775 6.57184C1.87775 3.97952 3.97966 1.87775 6.57212 1.87775C9.16458 1.87775 11.2665 3.97952 11.2665 6.57184C11.2665 9.16463 9.16468 11.2665 6.57212 11.2665Z\"\n                        fill=\"url(#paint0_linear)\">\n                    </path>\n                    <defs>\n                        <linearGradient id=\"paint0_linear\" x1=\"16.6209\" y1=\"16.6208\" x2=\"-1.90605\" y2=\"3.18655\"\n                        gradientUnits=\"userSpaceOnUse\">\n                        <stop stop-color=\"#BF14A2\"></stop>\n                        <stop offset=\"1\" stop-color=\"#F73A1C\"></stop>\n                        </linearGradient>\n                    </defs>\n                </svg>\n            </span>\n            <input name=\"query\" id='query' type=\"text\" className=\"form-input search__bar__input\"\n                placeholder=\"Illuminating Your Digital Search Experience..\" value={query} onChange={(e) => setQuery(e.target.value)}\n                autocapitalize=\"off\" autocomplete=\"off\" autocorrect=\"off\" spellcheck=\"false\" aria-label=\"Search\"\n                title=\"Search\" aria-autocomplete=\"both\" aria-haspopup=\"false\" maxlength=\"2048\" autofocus=\"\"\n                onInput={handleInputChange}\n            />\n            <input name=\"source\" value=\"web\" type=\"hidden\" />\n            <div id=\"autocomplete\" className=\"svelte-ir7f0d\"></div>\n            <div className=\"search__suggestions autocomplete-items\" id=\"auto1\">\n            <ul className=\"search__suggestions__list\" id=\"suggestionList\">\n                {suggestions.map((currElem, index) => (\n                    <li key={index} className=\"search__suggestions__list__result\" onClick={() => handleSuggestionClick(currElem)}>\n                        {currElem}\n                    </li>\n                ))}\n            </ul>\n            </div>\n        </form>\n    </div>\n  )\n}\n\nexport default SearchBarBox"],"mappings":"+ZAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,cAAc,CACrB,OAAQC,OAAO,CAAEC,WAAW,KAAO,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAGtD,QAAS,CAAAC,YAAYA,CAAA,CAAG,CACpB,IAAAC,eAAA,CAA0BR,KAAK,CAACS,QAAQ,CAAC,EAAE,CAAC,CAAAC,gBAAA,CAAAC,cAAA,CAAAH,eAAA,IAArCI,KAAK,CAAAF,gBAAA,IAAEG,QAAQ,CAAAH,gBAAA,IACtB,IAAAI,gBAAA,CAAsCd,KAAK,CAACS,QAAQ,CAAC,EAAE,CAAC,CAAAM,gBAAA,CAAAJ,cAAA,CAAAG,gBAAA,IAAjDE,WAAW,CAAAD,gBAAA,IAAEE,cAAc,CAAAF,gBAAA,IAClC,GAAM,CAAAG,QAAQ,CAAGhB,WAAW,EAAE,CAE9B,GAAM,CAAAiB,iBAAiB,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAOC,CAAC,MAAAC,UAAA,CAAAC,QAAA,CAAAC,IAAA,QAAAN,mBAAA,GAAAO,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SACxBP,UAAU,CAAGD,CAAC,CAACS,MAAM,CAACC,KAAK,CACjCtB,QAAQ,CAACa,UAAU,CAAC,KAChBA,UAAU,CAACU,IAAI,EAAE,EAAAL,QAAA,CAAAE,IAAA,WAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAEM,CAAAI,KAAK,4EAAAC,MAAA,CAA4EZ,UAAU,EAAG,QAA/GC,QAAQ,CAAAI,QAAA,CAAAQ,IAAA,CAAAR,QAAA,CAAAE,IAAA,SACG,CAAAN,QAAQ,CAACa,IAAI,EAAE,QAA5BZ,IAAI,CAAAG,QAAA,CAAAQ,IAAA,CACRE,OAAO,CAACC,GAAG,CAACd,IAAI,CAAC,CACjB;AACA;AACAA,IAAI,CAAGA,IAAI,CAAC,CAAC,CAAC,CAEdX,cAAc,CAACW,IAAI,CAAC,CAAAG,QAAA,CAAAE,IAAA,kBAAAF,QAAA,CAAAC,IAAA,IAAAD,QAAA,CAAAY,EAAA,CAAAZ,QAAA,aAEpBU,OAAO,CAACG,KAAK,CAAAb,QAAA,CAAAY,EAAA,CAAO,SAAAZ,QAAA,CAAAE,IAAA,kBAGxBhB,cAAc,CAAC,EAAE,CAAC,0BAAAc,QAAA,CAAAc,IAAA,MAAArB,OAAA,iBAErB,kBAnBK,CAAAL,iBAAiBA,CAAA2B,EAAA,SAAA1B,IAAA,CAAA2B,KAAA,MAAAC,SAAA,OAmBtB,CAED,GAAM,CAAAC,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAIxB,CAAC,CAAK,CACxBA,CAAC,CAACyB,cAAc,EAAE,CAClBhC,QAAQ,kBAAAoB,MAAA,CAAkB1B,KAAK,EAAG,CACtC,CAAC,CAED,GAAM,CAAAuC,qBAAqB,CAAG,QAAxB,CAAAA,qBAAqBA,CAAIC,UAAU,CAAK,CAC1ClC,QAAQ,kBAAAoB,MAAA,CAAkBc,UAAU,EAAG,CAC3C,CAAC,CAGH,mBACEhD,IAAA,QAAAiD,QAAA,cACG/C,KAAA,SAAMgD,SAAS,CAAC,MAAM,CAACC,MAAM,CAAC,KAAK,CAACC,EAAE,CAAC,YAAY,CAACC,QAAQ,CAAER,YAAa,CAAAI,QAAA,eAEtEjD,IAAA,SAAMoD,EAAE,CAAC,aAAa,CAACF,SAAS,CAAC,YAAY,CAAAD,QAAA,cACzC/C,KAAA,QAAKoD,KAAK,CAAC,IAAI,CAACC,MAAM,CAAC,IAAI,CAACC,OAAO,CAAC,WAAW,CAACC,IAAI,CAAC,MAAM,CAACC,KAAK,CAAC,4BAA4B,CAAAT,QAAA,eAC1FjD,IAAA,SAAM,YAAU,SAAS,CAAC,YAAU,SAAS,CACzC2D,CAAC,CAAC,+iBAA+iB,CACjjBF,IAAI,CAAC,qBAAqB,EACvB,cACPzD,IAAA,SAAAiD,QAAA,cACI/C,KAAA,mBAAgBkD,EAAE,CAAC,eAAe,CAACQ,EAAE,CAAC,SAAS,CAACC,EAAE,CAAC,SAAS,CAACC,EAAE,CAAC,UAAU,CAACC,EAAE,CAAC,SAAS,CACvFC,aAAa,CAAC,gBAAgB,CAAAf,QAAA,eAC9BjD,IAAA,SAAM,aAAW,SAAS,EAAQ,cAClCA,IAAA,SAAMiE,MAAM,CAAC,GAAG,CAAC,aAAW,SAAS,EAAQ,GAC5B,EACd,GACL,EACH,cACPjE,IAAA,UAAOkE,IAAI,CAAC,OAAO,CAACd,EAAE,CAAC,OAAO,CAACe,IAAI,CAAC,MAAM,CAACjB,SAAS,CAAC,+BAA+B,CAChFkB,WAAW,CAAC,+CAA+C,CAACrC,KAAK,CAAEvB,KAAM,CAAC6D,QAAQ,CAAE,SAAAA,SAAChD,CAAC,QAAK,CAAAZ,QAAQ,CAACY,CAAC,CAACS,MAAM,CAACC,KAAK,CAAC,EAAC,CACpHuC,cAAc,CAAC,KAAK,CAACC,YAAY,CAAC,KAAK,CAACC,WAAW,CAAC,KAAK,CAACC,UAAU,CAAC,OAAO,CAAC,aAAW,QAAQ,CAChGC,KAAK,CAAC,QAAQ,CAAC,oBAAkB,MAAM,CAAC,gBAAc,OAAO,CAACC,SAAS,CAAC,MAAM,CAACC,SAAS,CAAC,EAAE,CAC3FC,OAAO,CAAE9D,iBAAkB,EAC7B,cACFf,IAAA,UAAOkE,IAAI,CAAC,QAAQ,CAACnC,KAAK,CAAC,KAAK,CAACoC,IAAI,CAAC,QAAQ,EAAG,cACjDnE,IAAA,QAAKoD,EAAE,CAAC,cAAc,CAACF,SAAS,CAAC,eAAe,EAAO,cACvDlD,IAAA,QAAKkD,SAAS,CAAC,wCAAwC,CAACE,EAAE,CAAC,OAAO,CAAAH,QAAA,cAClEjD,IAAA,OAAIkD,SAAS,CAAC,2BAA2B,CAACE,EAAE,CAAC,gBAAgB,CAAAH,QAAA,CACxDrC,WAAW,CAACkE,GAAG,CAAC,SAACC,QAAQ,CAAEC,KAAK,qBAC7BhF,IAAA,OAAgBkD,SAAS,CAAC,mCAAmC,CAAC+B,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAlC,qBAAqB,CAACgC,QAAQ,CAAC,EAAC,CAAA9B,QAAA,CACxG8B,QAAQ,EADJC,KAAK,CAET,EACR,CAAC,EACD,EACC,GACH,EACL,CAEV,CAEA,cAAe,CAAA7E,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}